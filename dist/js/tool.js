(()=>{var t,e={268:(t,e,o)=>{Nova.booting((function(t){Nova.inertia("NovaTwoFactor",o(348).Z)}))},762:()=>{},744:(t,e)=>{"use strict";e.Z=(t,e)=>{const o=t.__vccOpts||t;for(const[t,n]of e)o[t]=n;return o}},348:(t,e,o)=>{"use strict";o.d(e,{Z:()=>B});const n=Vue;var a=(0,n.createTextVNode)("Two factor auth (Google 2FA)"),r={class:"tw-grid tw-grid-cols-2 tw-gap-4"},c={class:""},s={key:0,class:""},l=(0,n.createElementVNode)("p",{class:"mb-4"}," Update your two factor security settings ",-1),i={class:"tw-flex tw-items-center tw-mb-4"},d=(0,n.createElementVNode)("label",{for:"op-enable",class:"tw-block tw-ml-2 tw-text-sm tw-font-medium tw-text-gray-900"}," Enable ",-1),u={class:"tw-flex tw-items-center tw-mb-4"},w=(0,n.createElementVNode)("label",{for:"op-disable",class:"tw-block tw-ml-2 tw-text-sm tw-font-medium tw-text-gray-900"}," Disable ",-1),f=(0,n.createElementVNode)("br",null,null,-1),m=(0,n.createTextVNode)("Update Settings"),v={key:1,class:""},p=(0,n.createElementVNode)("p",null," Two factor authentication (2FA) strengthens access security by requiring two methods (also referred to as factors) to verify your identity. Two factor authentication protects against phishing, social engineering and password brute force attacks and secures your logins from attackers exploiting weak or stolen credentials. ",-1),g=(0,n.createElementVNode)("h3",{class:"tw-my-2 tw-text-xl"},"Recovery codes",-1),b=(0,n.createElementVNode)("p",{class:"tw-mb-3"}," Recovery code are used to access your account in the event you cannot recive two-factor authentication codes. ",-1),h=(0,n.createElementVNode)("span",{class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-semibold tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"},"Step 01",-1),y=(0,n.createElementVNode)("p",{class:"no-print tw-my-4 tw-text-md"}," Download, print or copy your recovery code before continuing two-factor authentication setup. ",-1),x={class:"tw-mb-4 tw-border-dashed tw-border-2 tw-border-light-blue tw-p-4 tw-rounded-lg tw-text-center tw-bg-gray-50"},N={class:"tw-text-xl tw-text-black"},V=(0,n.createElementVNode)("span",{class:"tw-bg-gray-100 tw-text-gray-800 tw-text-xs tw-font-semibold tw-mr-2 tw-px-2.5 tw-py-0.5 tw-rounded"},"Step 02",-1),E={class:"tw-my-4 tw-text-md"},k=(0,n.createTextVNode)(" Scan this QR code using Google authenticator to setup & enter OTP to activate 2FA "),C=(0,n.createElementVNode)("br",null,null,-1),O=(0,n.createTextVNode)("Activate 2FA"),_={class:"tw-h-full"},T={key:0,class:"tw-flex tw-justify-center tw-content-center tw-w-full tw-p-8"},S=["src"];const A={data:function(){return{twofa:[],form:{},status:null,loading:!0}},mounted:function(){this.getStatus(),this.getRecoveryCodes()},methods:{getStatus:function(){var t=this;Nova.request().get("/nova-vendor/nova-two-factor/status").then((function(e){t.status=e.data,t.loading=!1}))},getRecoveryCodes:function(){var t=this;Nova.request().get("/nova-vendor/nova-two-factor/register").then((function(e){t.twofa=e.data}))},toggle:function(){Nova.request().post("/nova-vendor/nova-two-factor/toggle",{status:this.status.enabled}).then((function(t){Nova.success(t.data.message)}))},confirmOtp:function(){var t=this;Nova.request().post("/nova-vendor/nova-two-factor/confirm",this.form).then((function(e){Nova.success(e.data.message),t.getStatus()})).catch((function(t){Nova.error(t.response.data.message)}))},autoSubmit:function(){6===this.form.otp.length&&this.confirmOtp()},downloadAsText:function(t,e){var o=document.createElement("a");o.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),o.setAttribute("download",t),o.style.display="none",document.body.appendChild(o),o.click(),document.body.removeChild(o)}},computed:{}};const B=(0,o(744).Z)(A,[["render",function(t,e,o,A,B,D){var R=(0,n.resolveComponent)("heading"),q=(0,n.resolveComponent)("LoadingButton"),U=(0,n.resolveComponent)("LoadingCard"),j=(0,n.resolveComponent)("LoadingView");return(0,n.openBlock)(),(0,n.createBlock)(j,{loading:B.loading},{default:(0,n.withCtx)((function(){return[(0,n.createVNode)(R,{class:"mb-6"},{default:(0,n.withCtx)((function(){return[a]})),_:1}),(0,n.createVNode)(U,{loading:B.loading,class:"tw-p-4"},{default:(0,n.withCtx)((function(){return[(0,n.createElementVNode)("div",r,[(0,n.createElementVNode)("div",c,[1==B.status.confirmed?((0,n.openBlock)(),(0,n.createElementBlock)("div",s,[l,(0,n.createElementVNode)("div",i,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return B.status.enabled=t}),value:1,id:"op-enable",type:"radio",class:"tw-w-4 tw-h-4 tw-border-gray-300 tw-focus:ring-2 tw-focus:ring-blue-300"},null,512),[[n.vModelRadio,B.status.enabled]]),d]),(0,n.createElementVNode)("div",u,[(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return B.status.enabled=t}),value:0,id:"op-disable",type:"radio",class:"tw-w-4 tw-h-4 tw-border-gray-300 tw-focus:ring-2 tw-focus:ring-blue-300"},null,512),[[n.vModelRadio,B.status.enabled]]),w]),f,(0,n.createVNode)(q,{onClick:D.toggle},{default:(0,n.withCtx)((function(){return[m]})),_:1},8,["onClick"])])):((0,n.openBlock)(),(0,n.createElementBlock)("div",v,[p,g,b,h,y,(0,n.createElementVNode)("div",x,[(0,n.createElementVNode)("h2",N,(0,n.toDisplayString)(B.twofa.recovery),1),(0,n.createElementVNode)("a",{class:"tw-text-blue-700",onClick:e[2]||(e[2]=(0,n.withModifiers)((function(t){return D.downloadAsText("recover_code.txt",B.twofa.recovery)}),["prevent"])),href:"#"},"Download")]),V,(0,n.createElementVNode)("div",E,[k,(0,n.withDirectives)((0,n.createElementVNode)("input",{"onUpdate:modelValue":e[3]||(e[3]=function(t){return B.form.otp=t}),onKeyup:e[4]||(e[4]=function(t){return D.autoSubmit()}),placeholder:"Enter OTP here",type:"text",class:"form-control form-input form-input-bordered tw-my-4"},null,544),[[n.vModelText,B.form.otp]]),C,(0,n.createVNode)(q,{loading:B.loading,disabled:B.loading,onClick:D.confirmOtp,class:"btn btn-default btn-primary"},{default:(0,n.withCtx)((function(){return[O]})),_:1},8,["loading","disabled","onClick"])])]))]),(0,n.createElementVNode)("div",_,[B.status.confirmed?(0,n.createCommentVNode)("",!0):((0,n.openBlock)(),(0,n.createElementBlock)("div",T,[(0,n.createElementVNode)("img",{width:"300",src:B.twofa.google2fa_url,alt:"qr_code"},null,8,S),(0,n.createTextVNode)(" "+(0,n.toDisplayString)(B.status),1)]))])])]})),_:1},8,["loading"])]})),_:1},8,["loading"])}]])}},o={};function n(t){var a=o[t];if(void 0!==a)return a.exports;var r=o[t]={exports:{}};return e[t](r,r.exports,n),r.exports}n.m=e,t=[],n.O=(e,o,a,r)=>{if(!o){var c=1/0;for(d=0;d<t.length;d++){for(var[o,a,r]=t[d],s=!0,l=0;l<o.length;l++)(!1&r||c>=r)&&Object.keys(n.O).every((t=>n.O[t](o[l])))?o.splice(l--,1):(s=!1,r<c&&(c=r));if(s){t.splice(d--,1);var i=a();void 0!==i&&(e=i)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[o,a,r]},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={103:0,990:0};n.O.j=e=>0===t[e];var e=(e,o)=>{var a,r,[c,s,l]=o,i=0;if(c.some((e=>0!==t[e]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var d=l(n)}for(e&&e(o);i<c.length;i++)r=c[i],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(d)},o=self.webpackChunkvisanduma_nova_two_factor=self.webpackChunkvisanduma_nova_two_factor||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})(),n.O(void 0,[990],(()=>n(268)));var a=n.O(void 0,[990],(()=>n(762)));a=n.O(a)})();